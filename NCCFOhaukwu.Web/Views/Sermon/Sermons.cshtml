@using System.Text.RegularExpressions
@using PagedList.Mvc
@model PagedList.IPagedList<DAL.Sermon>

@{
    ViewBag.Title = "Sermons";
    Layout = "~/Views/Shared/_SermonLayout.cshtml";
}

<span class="container-fluid">Sermons</span>
@foreach (var sermon in Model)
{
    <div class="general-news">
        @*<span>@sermon.Title</span>*@
        <h2>@sermon.Title</h2>
        <h4>@sermon.Scriptures</h4>
        <p>
            <strong>@sermon.Date.ToString("D")</strong>
        </p>
        @*<hr/>*@
        @*@{
            var sermons = Regex.Replace(sermon.Message, "<.*?>", string.Empty);
            sermons = (sermons.Length >= 300) ? sermons.Substring(0, 300) : sermons;
        }

        <span class="" style="">@sermons ...</span>

        <a style="" class="btn btn-mod" href="@Url.Action("Sermon", "Sermon", new {id = sermon.Id, title = Regex.Replace(sermon.Title, "[^a-zA-Z0-9 ]", "").Replace(" ", "-").ToLower()})">Continue Reading</a>*@

    </div>
}

@Html.PagedListPager(Model, page => Url.Action("Sermons", "Sermon", new {page}),
    new PagedListRenderOptions {Display = PagedListDisplayMode.IfNeeded, MaximumPageNumbersToDisplay = 10})